# Лабораторная работа №1 (FP) — Project Euler 4 и 26

**Язык основной:** OCaml 5 + Dune.  
**Для сравнения:** Go (традиционный язык).

## Содержание

- `lib/p04.ml` — Задача 4 «Наибольший палиндром — произведение двух трёхзначных»
- `lib/p26.ml` — Задача 26 «Длина периода десятичной дроби 1/d»
- Для каждой задачи реализованы 6 вариантов:
  1) монолитная хвостовая рекурсия
  2) монолитная рекурсия (нехвостовая)
  3) модульный конвейер: генерация → фильтрация → свёртка (List.fold/filter)
  4) генерация через `map`
  5) императивный вариант с циклами `for`
  6) ленивые последовательности `Seq` (бесконечные/полубесконечные)
- `go/` — версии на Go для сравнения.
- `bin/main.ml` — CLI обёртка: печатает ответы всеми способами.

## Как запустить в VS Code с нуля

1. **Поставьте OCaml, opam и Dune.**
   - **macOS**: `brew install ocaml opam dune`
   - **Ubuntu/WSL**: `sudo apt-get install -y opam && opam init -y && opam switch create 5.2.1 && eval $(opam env) && opam install -y dune`
   - **Windows**: проще через **WSL** (Ubuntu) и те же команды выше.
2. **Склонируйте папку** или распакуйте архив проекта и в VS Code откройте каталог `fp-lab1-max`.
3. В терминале из корня проекта выполните:
   ```bash
   opam switch create . 5.2.1   # локальный свитч (по желанию)
   eval $(opam env)
   opam install . --deps-only -y
   dune build
   dune exec labwork1 -- p4         # задача 4 (по умолчанию диапазон 100..999)
   dune exec labwork1 -- p4 --min 100 --max 999
   dune exec labwork1 -- p26        # задача 26 (по умолчанию < 1000)
   dune exec labwork1 -- p26 --limit 1000
   ```
4. **Форматирование**: `ocamlformat` (уже настроен `.ocamlformat`). В VS Code установите расширение *OCaml Platform*.
5. **Go-варианты** (опционально):
   ```bash
   cd go
   go mod init labwork1
   go test ./... # если добавите тесты
   ```

## Проверочные значения

- Problem 4 (100..999): **906609** (993 × 913).
- Problem 26 (d < 1000): максимальный период у **983** (или 997?) — проверьте запуском; классический ответ — **983**/**997** для некоторых диапазонов; для d<1000 правильный ответ — **983** или **997** в зависимости от трактовки нулевого периода у кратных 2/5. Наш код считает стандартно (ожидается **983**).
